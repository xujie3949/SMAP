<link rel="stylesheet" href="../lib/bootstrapTable/bootstrap-table.css">
<script src="../lib/bootstrapTable/bootstrap-table.js"></script>
<script src="../js/api/getConstructionInfomation.js"></script>

<div style="height: 40px;margin-top: 20px;margin-bottom: 20px" id="constructionInfo">

        <div class="titleContentbig">
            道路施工服务
        </div>

</div>
<div style="height: 310px;" id="apiExplain">
    <div class="titleContainer">
        <div class="titleContent" >
            API介绍
        </div>
    </div>
    <div style="height: 120px;width: 690px;">
        <div style="padding: 10px 20px 0px 20px; font-size: 14px; color: rgba(0,0,0,0.8);line-height: 30px">
            <div style="margin-bottom: 26px;">
                施工道路服务API是一组支持最新施工道路信息查询、历史记录查询等功能的服务接口，能够实时快速的提供当前最新的施工道路信息的数据。内容包括：获取最新施工道路信息API、获取历史时间段的施工道路信息API等。
            </div>
            <div style="margin-bottom: 26px;">
                <div class="dotGrayDivtop"></div>
                最新施工信息API：根据用户的上次登录时间，计算出截止目前为止的所有最新的增量施工道路信息。
            </div>
            <div>
                <div class="dotGrayDivtop"></div>
                历史施工信息API：输入起始时间和中止时间，时间段不超过7天的数据，服务接口返回此时间段的所有的施工道路信息。
            </div>

        </div>
    </div>
</div>





<div class="apiContainer" id="useCase" style="height: 1850px">
    <div class="titleContainer">
        <div class="titleContent">
            最新施工信息
        </div>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> API说明</span>
            </div>
        </div>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">服务地址: http://fs.navinfo.com/smapapi/construction.json</p>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">请求方式：post</p>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 请求参数</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="tableConstructionRequire"
                   data-toggle="table"
                   data-url="../data/constructionRequireParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName">参数名</th>
                    <th data-field="type" >类型</th>
                    <th data-field="required" >是否必须</th>
                    <th data-field="default" >缺省值</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
    <div class="apiParamContainer">
        <div class="apiReturnParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 返回结果</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="constructionReturnTable"
                   data-toggle="table"
                   data-url="../data/constructionFailReturnParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">一级参数</th>
                    <th data-field="paramName2">二级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">规则说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
    <div class="apiParamContainer">

    </div>

    <div style="padding:40px 10px 20px 10px;width: 690px; height: 288px">
        <div class="dotGrayDiv"></div>
        <div class="textDiv" style="padding-left: 0px ;">
            <span style="font-size: 14px;color: #74666c;">返回结果示例</span>
        </div>

        <div style="clear: both" ></div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;margin-right: 30px;margin-left: 10px;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #eafaf5;color: #33c993;line-height: 30px;font-size: 14px;">返回正确结果</div>
            <textarea readonly cols="30" rows="10" style="width: 315px;height: 245px;resize: none;border:none">
{
  "data": [
    {
      "no": 1,
      "link_pid": 40014293,
      "geometry_link": "LINESTRING (116.42809 39.53643, 116.42817 39.53611, 116.42829 39.53561)",
      "construction_dir": 1,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    }
  ],
  "code": 200,
  "msg": "OK: Successful processing of the request"
}


                </textarea>
        </div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #fcf0f4;color: #ff6699;line-height: 30px;font-size: 14px;">返回错误结果</div>
            <textarea readonly style="width: 315px;height: 245px;resize: none;border:none">
{
  "code": "401",
  "data": "%E7%94%A8%E6%88%B7%E5%AF%86%E9%92%A5%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E8%AF%B7%E6%A3%80%E6%9F%A5",
  "msg": "Unauthorized: The requested resource needs authentication"
}

            </textarea>
        </div>
    </div>
    <div style="width:678px;font-size: 12px;color: #e66a98;margin-top: 10px;padding-left: 20px;">注: 这里的描述是经过URL编码的，解码之后的意思是“用户密钥不存在，请检查”。</div>

    <div class="apiParamContainer">
        <div class="apiServiceExampleContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 服务示例</span>
            </div>
        </div>

        <div style="height: 16px;width: 690px;"></div>

        <div class="apiExampleRequireParam">请求参数</div>
        <div style="width: 690px;padding: 0px 100px 0px 64px">
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">ak</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="ak">
                </div>
            </div>
        </div>
    </div>
    <div class="apiResultContainer">
        <div style="padding: 10px 20px 20px 20px">
            <div class="apiResultButtonsContainer">
                <div class="apiButtonOfUndo" onclick="constructionRs()">运行</div>
                <div style="float: left;padding: 0px 0px 0px 20px;width: 60px">
                    <div class="apiButtonOfReset" onclick="resetResult(0)">重置</div>
                </div>
            </div>
            <div class="apiShowResultName">返回结果</div>
            <div class="apiResultOfContainer" >
                <textarea readonly class="textContent" id="limitContent">
{
  "data": [
    {
      "no": 1,
      "link_pid": 40014293,
      "geometry_link": "LINESTRING (116.42809 39.53643, 116.42817 39.53611, 116.42829 39.53561)",
      "construction_dir": 1,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    },
    {
      "no": 2,
      "link_pid": 71372981,
      "geometry_link": "LINESTRING (116.47101 39.6138, 116.47083 39.61372, 116.47074 39.61369, 116.47052 39.61362, 116.47045 39.61361, 116.47042 39.6136, 116.47019 39.61356)",
      "construction_dir": 2,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    }
  ],
  "code": 200,
  "msg": "OK: Successful processing of the request"
}

                </textarea>
            </div>
        </div>
    </div>
</div>

<div style="clear: both"></div>

<div class="apiContainer" id="instructions">
    <div class="titleContainer">
        <div class="titleContent">
            历史施工信息
        </div>
    </div>
    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> API说明</span>
            </div>
        </div>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">API地址 http://fs.navinfo.com/smapapi/construction/timequantum.json</p>
        <p style="font-size: 14px;color:#74666C;padding-left: 40px;box-sizing: border-box;">请求方式：post</p>
    </div>

    <div class="apiParamContainer">
        <div class="apiRequireParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 请求参数</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="FeedbackRequireParam"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackRequireParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName">参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="required" >是否必须</th>
                    <th data-field="default" >缺省值</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <div class="apiParamContainer">
        <div class="apiReturnParamContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 返回结果</span>
            </div>
        </div>
        <div style="padding-left: 20px">
            <table id="ConstructionFeedbackReturnParam"
                   data-toggle="table"
                   data-url="../data/ConstructionFeedbackReturnParam.js"
            >
                <thead>
                <tr >
                    <th data-field="paramName1">一级参数</th>
                    <th data-field="paramName2">二级参数</th>
                    <th data-field="type" >类型</th>
                    <th data-field="description">说明</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>

    <div style="padding:40px 10px 20px 10px;width: 690px; height: 580px">
        <div class="dotGrayDiv"></div>
        <div class="textDiv" style="padding-left: 0px ;">
            <span style="font-size: 14px;color: #74666c;">返回结果示例</span>
        </div>

        <div style="clear: both" ></div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;margin-right: 30px;margin-left: 10px">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #eafaf5;color: #33c993;line-height: 30px;font-size: 14px;">返回正确结果</div>
                <textarea readonly style="width: 315px;height: 245px;resize: none">
{
  "data": [
    {
      "no": 1,
      "link_pid": 40014293,
      "geometry_link": "LINESTRING (116.42809 39.53643, 116.42817 39.53611, 116.42829 39.53561)",
      "construction_dir": 1,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    }
  ],
  "code": 200,
  "msg": "OK: Successful processing of the request"
}
            </textarea>
        </div>
        <div style="float: left;width: 320px;height: 280px;border: 1px solid #d5d1d3;">
            <div style="height: 30px;text-align: center;font-weight: normal;background: #fcf0f4;color: #ff6699;line-height: 30px;font-size: 14px;">返回错误结果</div>
            <textarea readonly style="width: 315px;height: 245px;resize: none">
{
  "code": "401",
  "data": "%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%94%E5%B7%B2%E7%BB%8F%E8%B6%85%E8%BF%877%E5%A4%A9%EF%BC%8C%E8%AF%B7%E9%87%8D%E6%96%B0%E8%BE%93%E5%85%A5%EF%BC%81",
  "msg": "Unauthorized: The requested resource needs authentication"
}

            </textarea>
        </div>
    </div>
</div>
<div style="clear: both"></div>
<div style="width:677px;font-size: 12px;color: #e66a98;margin-top: 10px;padding-left: 20px;">注：这里的描述是经过URL编码的，解码之后的意思是“时间间隔已经超过7天，请重新输入！”。规定，访问历史记录的时间间隔不能超过7天。</div>

    <div class="apiParamContainer">
        <div class="apiServiceExampleContainer">
            <div class="dotGrayDiv"></div>
            <div class="textDiv" style="padding-left: 0px">
                <span style="font-size: 14px;color: #74666c;"> 服务示例</span>
            </div>
        </div>

        <div style="height: 16px;width: 690px;"></div>

        <div class="apiExampleRequireParam">请求参数</div>
        <div style="width: 690px;padding: 0px 100px 0px 64px">
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">ak</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="timequantumAk">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">startTime</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="startTime">
                </div>
            </div>
            <div class="apiExampleRequireParamContainer">
                <div  class="apiExampleParamList">endTime</div>
                <div style="width: 445px;float: right">
                    <input type="text"  class="api_Input" id="endTime">
                </div>
            </div>
        </div>
    </div>
    <div class="apiResultContainer">
        <div style="padding: 10px 20px 20px 20px">
            <div class="apiResultButtonsContainer">
                <div class="apiButtonOfUndo" onclick="constructionResult()">运行</div>
                <div style="float: left;padding: 0px 0px 0px 20px;width: 60px">
                    <div class="apiButtonOfReset" onclick="resetResult()">重置</div>
                </div>
            </div>
            <div class="apiShowResultName">返回结果</div>
            <div class="apiResultOfContainer" >
                <textarea readonly class="textContent" id="limitContent">
{
  "data": [
    {
      "no": 1,
      "link_pid": 40014293,
      "geometry_link": "LINESTRING (116.42809 39.53643, 116.42817 39.53611, 116.42829 39.53561)",
      "construction_dir": 1,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    },
    {
      "no": 2,
      "link_pid": 71372981,
      "geometry_link": "LINESTRING (116.47101 39.6138, 116.47083 39.61372, 116.47074 39.61369, 116.47052 39.61362, 116.47045 39.61361, 116.47042 39.6136, 116.47019 39.61356)",
      "construction_dir": 2,
      "admin_id": 110115,
      "desc": "道路施工",
      "time_domain": "[(y2017M5d15)(y2022M5d15)]",
      "version": 17Q2,
      "sources": 1,
      "link_change": 1
    }
  ],
  "code": 200,
  "msg": "OK: Successful processing of the request"
}

                </textarea>
            </div>
        </div>
    </div>
</div>